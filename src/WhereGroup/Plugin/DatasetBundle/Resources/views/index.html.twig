{% extends 'WhereGroupThemeBundle::template.html.twig' %}

{% block title %}MeTaDor - Daten{% endblock %}

{% block center %}
<div class="page-content">
    <div class="search-content">
        {% if paging.prevPage is defined %}<a href="{{ path('metadata_index', { 'profile' : profile, 'page' : paging.prevPage }) }}" style="border: 1px solid red;">{% endif %}
        <div class="search-prev{% if paging.prevPage is not defined %} disabled{% endif %}" id="search_prev" data-page="">
            <div class="page-arrow"></div>
        </div>
        {% if paging.prevPage is defined %}</a>{% endif %}
        <div class="search-center">
            {% include 'WhereGroupThemeBundle:Template:flashMessages.html.twig' %}
            <div class="search-center-form">
                <div class="search-center-form-left" id="search_pageinfo">
                    Seite {{ paging.currentPage }} von {{ paging.pages }}
                </div>
                <div class="clear"></div>
            </div>
        {# CONTENT START #}
            <div class="tableBorder">
                <table class="table" id="metadataTable" data-controller="data">
                    <thead>
                        <tr>
                            <th>{{ 'Titel'|trans }}</th>
                            <th>{{ 'Benutzer'|trans }}</th>
                            <th>{{ 'Datum'|trans }}</th>
                            <th>{{ 'Uhrzeit'|trans }}</th>
                            <th class="right last-1" title="{{ 'verÃ¶ffentlichen'|trans }}"><div class="icon-earth"></div></th>
                            <th class="right last-1" title="{{ 'bearbeiten'|trans }}"><span class="icon-pencil"></span></th>
                        </tr>
                    </thead>
                    <tbody>
                {% for row in rows %}
                    <tr data-id="{{ row.id }}">
                        <td>
                            <a href="{{ path('metadata_edit', { 'profile' : profile, 'id' : row.id }) }}">
                                {{ row.title }}
                            </a>
                        </td>
                        <td>
                            <span class="icon-user"></span> {{ row.updateUser.username }}
                        </td>
                        <td>
                            <span class="icon-calendar"></span> {{ row.updateTime|date("d.m.Y") }}
                        </td>
                        <td>
                            <span class="icon-clock"></span> {{ row.updateTime|date("H:i") }}
                        </td>
                        <td>
            {% if row.readonly == 0 %}
                            <input type="checkbox" name="{{ row.id }}" class="shareMetadata" {% if row.public == 1 %}checked="checked"{% endif %} />
            {% endif %}
                        </td>
                        <td class="right last-1">
            {% if row.readonly == 0 %}
                            <a href="{{ path('metadata_edit', { 'profile' : profile, 'id' : row.id }) }}">
                                <span class="icon-pencil"></span>
                            </a>
            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
                    </tbody>
                </table>
            </div>
        {# CONTENT END #}
        </div>
        {% if paging.nextPage is defined %}<a href="{{ path('metadata_index', { 'profile' : profile, 'page' : paging.nextPage }) }}" style="border: 1px solid red;">{% endif %}
        <div class="search-next{% if paging.nextPage is not defined %} disabled{% endif %}" id="search_next" data-page="">
            <div class="page-arrow"></div>
        </div>
        {% if paging.nextPage is defined %}</a>{% endif %}
    </div>
</div>
{% endblock %}
